<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Affichage PrÃªt</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" th:href="@{/css/verif_pret.css}">
</head>

<body>
    <h1>Informations du prÃªt reÃ§u</h1>

    <div class="info-container">
        <p th:text="'Date de dÃ©but : ' + ${dateDebut}"></p>
        <p th:text="'Date de fin prÃ©vue : ' + ${dateFin}"></p>

        <p th:text="'ID de lâ€™adhÃ©rent : ' + ${idAdherent}"></p>
        <p th:text="'ID du livre : ' + ${idLivre}"></p>
        <p th:text="'Ã‚ge de lâ€™adhÃ©rent : ' + ${ageAdherent} + ' ans'"></p>
        <p th:text="'Ã‚ge restriction : ' + (${ageRestriction} != null ? ageRestriction + ' ans' : 'Non dÃ©fini')"></p>

        <p th:text="${message}" class="info-message"></p>

        <div class="status-line">
            <p>
                Statut adhÃ©rent : 
                <span th:text="${statut == 'actif' ? 'Actif âœ…' : 'Inactif âŒ'}"></span>
            </p>

            <p>
                Sanction : 
                <span th:if="${isSanctioned == true}">SanctionnÃ© ğŸš«</span>
                <span th:if="${isSanctioned == false or isSanctioned == null}">Non sanctionnÃ© âœ…</span>
            </p>
        </div>
    </div>

    <h2>Historique des dates prÃ©vues de rendu</h2>
    <table th:if="${datesPrevues != null and !datesPrevues.isEmpty()}">
        <thead>
            <tr>
                <th>ID Date</th>
                <th>Date prÃ©vue</th>
                <th>ID PrÃªt liÃ©</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="date : ${datesPrevues}">
                <td th:text="${date.id_date_prevue}"></td>
                <td th:text="${date.datePrevue}"></td>
                <td th:text="${date.pret.id_pret}"></td>
            </tr>
        </tbody>
    </table>
    <p th:if="${datesPrevues == null or datesPrevues.isEmpty()}" class="empty-message">
        Aucune date prÃ©vue de rendu trouvÃ©e pour cet adhÃ©rent.
    </p>

    <h2>Historique des rendus liÃ©s aux prÃªts</h2>
    <table th:if="${rendus != null and !rendus.isEmpty()}">
        <thead>
            <tr>
                <th>ID Rendu</th>
                <th>Date du rendu</th>
                <th>ID PrÃªt liÃ©</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="rendu : ${rendus}">
                <td th:text="${rendu.id_rendu}"></td>
                <td th:text="${rendu.dateDuRendu}"></td>
                <td th:text="${rendu.pret.id_pret}"></td>
            </tr>
        </tbody>
    </table>
    <p th:if="${rendus == null or rendus.isEmpty()}" class="empty-message">
        Aucun rendu trouvÃ© pour ces prÃªts.
    </p>

    <a th:href="@{/preter/formpreter/livre}" class="btn-return">Retour au formulaire</a>
</body>

</html>
